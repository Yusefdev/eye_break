# EyeBreakWin โ ูุฏุฑุช ฺฉุงุฑ ู ุงุณุชุฑุงุญุช ุจุฑุง ฺุดูโูุง ู ุจุฏู

ฺฉ ุงุจุฒุงุฑ ุณุจฺฉ ุจุฑุง ููุฏูุฒ ฺฉู ฺุฑุฎูโูุง **ฺฉุงุฑ / ุงุณุชุฑุงุญุช** ุฑุง ูุฏุฑุช ูโฺฉูุฏ ุชุง
ุฏุฑ ฺฉูุงุฑ ูููู ูุดุบููโูุงุ ฺฉู ูู ุจู **ฺุดูโูุง** ู **ุจุฏู**โุชุงู ุฒูุงู ุจุฏูุฏ.  
ุงููุงูโฺฏุฑูุชู ุงุฒ ูุงููู 20-20-20 ู ุงูฺฏููุง ยซุงุณููุฒยป (Snooze) ุจุฑุง ููุงูุน ุถุฑูุฑ.

> ุงุฏู: ูุฑ ฒฐ ุฏููู ฺฉุงุฑุ ฺฉ ุงุฏุขูุฑ ุฏูุณุชโุฏุงุดุชู ุธุงูุฑ ูโุดูุฏุ
> ฺฉ ุฏููู ูุฑุตุช ุฏุงุฑุฏ ฺฉุงุฑ ูููโุชูุงูโุชุงู ุฑุง ุจุจูุฏุฏุ ุณูพุณ ุงุณุชุฑุงุญุช ฺฉูุชุงู ุดุฑูุน ูโุดูุฏ.
> ุงฺฏุฑ ูุงูุนุงู ูุฌุจูุฑุฏ ุงุฏุงูู ุจุฏูุฏุ ยซูพูุงูุช +ต ุฏูููยป ูุซู Snooze ุนูู ูโฺฉูุฏ ู ุจุนุฏ ุฏูุจุงุฑู ุงุฏุขูุฑ ุจุฑูโฺฏุฑุฏุฏ.

---

## ูุงุจูุชโูุง

- ๐ช **ุงูุฑูู ูููโุงุณฺฉุฑู ุจุง ุงุณฺฉุฑูโุดุงุช + ุจููุฑ ูุฑู ุณูโูพุงุณ** (Gaussian Approx.)
- ๐ **ููู ูุฑูุฏ (ฺฉุจูุฑุฏ/ูุงูุณ)** ุฏุฑ ุญู ุงุณุชุฑุงุญุช (ุฎุงุฑุฌ ุงุฒ ูพูุฌุฑู ุจูุงฺฉ ูโุดูุฏ)
- โณ **ููููู ถฐ ุซุงููโุง (Grace)** ูุจู ุงุฒ ููู: ูโุชูุงูุฏ ุฑู ููุงู ุตูุญู ุฏฺฉููโูุง ุฑุง ุจุฒูุฏ
- ๐ **ูพูุงูุช / Snooze +ต ุฏููู**: ุตูุญู ุจุณุชู ูโุดูุฏุ ต ุฏููู ูุฑุตุช ฺฉุงุฑุ ุณูพุณ ุงุฏุขูุฑ ุจุฑูโฺฏุฑุฏุฏ
- ๐ **ุณู ุตุฏุง WAV** ูุงุจู ุชูุธู: ููุงุด ุงุฏุขูุฑุ ุดุฑูุน ูููุ ูพูุงูุช
- ๐งฐ **System Tray**: Start Now / Settings / Startup / Exit
- โ๏ธ **ุตูุญูู ุชูุธูุงุช (GTK3)** + **ุฐุฎุฑู/ููุฏ ุชูุธูุงุช** ุฏุฑ ฺฉูุงุฑ ูุงู ุงุฌุฑุง (`eye_break.ini`)
- ๐ค **ููุดููุฏ ุฒูุงู ฺฉุงุฑ**: ุงฺฏุฑ ต ุฏููู ุง ุจุดุชุฑ ูฺ ูุฑูุฏ ูุฏุงุดุชุฏุ ุชุงูุฑ ฒฐ ุฏููู ุฌูู ููโุฑูุฏ
- ๐ฅ๏ธ ูพุดุชุจุงู ุงุฒ **ฺูุฏ ูุงูุชูุฑ** (Virtual Screen)

---

## ุงุณฺฉุฑูโุดุงุช (ุดูุงุชฺฉ)
> ุฏุฑ ุงูุฑูุ ุดูุงุฑุดโูุนฺฉูุณุ ุฏฺฉููู ยซูพูุงูุช +ต ุฏูููยป ู ยซุฎุงููุด ฺฉุฑุฏูยป ููุงุด ุฏุงุฏู ูโุดูุฏ.
> ูพุณโุฒููู ููุงู ุงุณฺฉุฑูโุดุงุช ูุญุท ุดูุงุณุช ฺฉู ุจูโุตูุฑุช ูุฑู ุจููุฑ ุดุฏู ุงุณุช.

---

## ุฏุงูููุฏ ู ุงุฌุฑุง
- ูุงู ุงุฌุฑุง: `eye_break.exe`
- ฺฉูุงุฑ ุขู ุณู ูุงู ุตุฏุง ูุฑุงุฑ ุฏูุฏ (ูุงุจู ุชุบุฑ ุงุฒ Settings):
  - `break_shown.wav` (ููฺฏุงู ููุงุด ุงุฏุขูุฑ)
  - `break_lock.wav`  (ููฺฏุงู ุดุฑูุน ููู/ุงุณุชุฑุงุญุช)
  - `penalty.wav`     (ููฺฏุงู ูพูุงูุช)

> ุงุฒ Tray ูโุชูุงูุฏ ุจุฑูุงูู ุฑุง ุจู **Startup** ููุฏูุฒ ุงุถุงูู ฺฉูุฏ.

---

## ุณุงุฎุช (Build)

### ฺฏุฒูู ฑ: MinGW-w64 / Clang + GTK3 (ูพุดููุงุฏ ุจุฑุง ุชูุณุนูโุฏููุฏูโูุง)
ุจู **MSYS2** ุง ูุญุท ูุงุฒ ุฏุงุฑุฏ ฺฉู GTK3 ุฑุง ุจุง `pkg-config` ูุฑุงูู ฺฉูุฏ.

1) ูุตุจ ูพุดโูุงุฒูุง (ุฏุฑ MSYS2 MinGW x86_64):
```bash
pacman -S mingw-w64-x86_64-clang mingw-w64-x86_64-gtk3 mingw-w64-x86_64-pkg-config
```

2) ุจูุฏ:
```bash
clang -O2 -municode -mwindows eye_break_win.c -o eye_break.exe \
  -ldwmapi -luser32 -lgdi32 -lshell32 -lole32 -lwinmm \
  `pkg-config --cflags --libs gtk+-3.0`
```

### ฺฏุฒูู ฒ: GCC (MinGW-w64) + GTK3
```bash
gcc -O2 -municode -mwindows eye_break_win.c -o eye_break.exe \
  -ldwmapi -luser32 -lgdi32 -lshell32 -lole32 -lwinmm \
  `pkg-config --cflags --libs gtk+-3.0`
```

### ฺฏุฒูู ณ: Visual Studio (MSVC)
- ฺฉ ูพุฑูฺูู Win32 (Windows Subsystem) ุจุณุงุฒุฏ.
- ูุงู `eye_break_win.c` ุฑุง ุงุถุงูู ฺฉูุฏ.
- ฺฉุชุงุจุฎุงููโูุง ุฒุฑ ุฑุง ููฺฉ ฺฉูุฏ:
  - `dwmapi.lib`, `user32.lib`, `gdi32.lib`, `shell32.lib`, `ole32.lib`, `winmm.lib`
- ุจุฑุง ูพูุฌุฑูู ุชูุธูุงุช GTK3ุ ุง **GTK Runtime** ูุตุจ ู include/lib ุฑุง ุจู ูพุฑูฺู ุงุถุงูู ฺฉูุฏ ุง ุจุฎุด GTK ุฑุง ูููุชุงู ุบุฑูุนุงู ฺฉูุฏ.

> ูฺฉุชู: ุงฺฏุฑ ุจุง `_wfopen(..., L"r, ccs=UTF-8")` ูุดฺฉู ุฏุงุดุชุฏุ ูโุชูุงูุฏ ุงุฒ ูุณุฎูู ุณุงุฏูู `_wfopen(path, L"r")` / `_wfopen(path, L"w")` ุงุณุชูุงุฏู ฺฉูุฏ (ูุงู INI ููฺฉุฏ ุฑุง ุจุง UTF-8/ASCII ุณุงุฏู ูฺฏู ุฏุงุฑุฏ).

---

## ุงุณุชูุงุฏู
- ูพุณ ุงุฒ ุงุฌุฑุงุ ุขฺฉู ุจุฑูุงูู ุฏุฑ **System Tray** ูุฑุงุฑ ูโฺฏุฑุฏ.
- ููู Tray:
  - **Start break now**: ุดุฑูุน ููุฑ ฺุฑุฎู (Grace โ Lock)
  - **Settingsโฆ**: ุจุงุฒฺฉุฑุฏู ุชูุธูุงุช (GTK3)
  - **Add/Remove to Startup**: ุงุถุงูู/ุญุฐู ุงุฒ ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ููุฏูุฒ
  - **Exit**: ุฎุฑูุฌ

### ฺุฑุฎูู ฺฉุงุฑ
1. **Work**: ุดูุง ูุดุบูู ฺฉุงุฑ ูุณุชุฏุ ุงฺฏุฑ ุจุฑุง โฅต ุฏููู ุจโุญุฑฺฉุช ุจุงุดุฏุ ุชุงูุฑ ููโุฏูุฏ.
2. **Break Shown (Grace)**: ุงุฏุขูุฑ ุธุงูุฑ ูโุดูุฏ (+ุตุฏุง ูุฎุตูุต)ุ ถฐ ุซุงูู ูุฑุตุช ุฏุงุฑุฏ.
3. **Break Active (Lock)**: ููู ูุฑูุฏ ูุนุงู ูโุดูุฏ (+ุตุฏุง ูุฎุตูุต)ุ ุงุณุชุฑุงุญุช ฺฉูุชุงู ุดุฑูุน ูโุดูุฏ.
4. **Penalty/Snooze**: ุงฺฏุฑ ยซูพูุงูุช +ต ุฏูููยป ุฑุง ุจุฒูุฏุ ุตูุญู ุจุณุชู ูโุดูุฏุ ต ุฏููู ูุฑุตุช ฺฉุงุฑ ุฏุงุฑุฏ (+ุตุฏุง ูุฎุตูุต)ุ ุณูพุณ ุฏูุจุงุฑู ุงุฏุขูุฑ ุจุฑูโฺฏุฑุฏุฏ.

---

## ุชูุธูุงุช ู ูุงู INI
ูุงู `eye_break.ini` ฺฉูุงุฑ exe ุฐุฎุฑู ูโุดูุฏ. ูููููู ูุญุชูุง:

```ini
work_interval_sec = 1200
break_default_sec = 20
penalty_sec       = 300
idle_pause_ms     = 300000
blur_radius       = 10
grace_sec         = 60
wav_break_shown   = break_shown.wav
wav_break_lock    = break_lock.wav
wav_penalty       = penalty.wav
```

> ูโุชูุงูุฏ ุงู ููุงุฏุฑ ุฑุง ุงุฒ ุฏุงุฎู **Settingsโฆ** ูู ูุฑุงุด ู ุฐุฎุฑู ฺฉูุฏ.

---

## ูฺฉุงุช ูู
- ุงูุฑู ุจุง WinAPI ููุดุชู ุดุฏู ู ุจุฑุง ุจููุฑ ุงุฒ ุงูฺฏูุฑุชู **ุณูโูพุงุณ BoxBlur** ุฑู ุงุณฺฉุฑูโุดุงุช ุงุณุชูุงุฏู ูโฺฉูุฏ.
- ููู ูุฑูุฏ ุจุง **Low-Level Hooks** (ฺฉุจูุฑุฏ/ูุงูุณ) ุงูุฌุงู ูโุดูุฏ. ุฏุงุฎู ูพูุฌุฑูู ุฎูุฏ ุจุฑูุงูู ูุงุจู ฺฉูฺฉ ุงุณุชุ ุจุฑูู ุงุฒ ุขู ุจูุงฺฉ ูโุดูุฏ.
- ุจุฑุง ฺูุฏ ูุงูุชูุฑ ุงุฒ **Virtual Screen** ุงุณุชูุงุฏู ูโุดูุฏ.

> ูุดุฏุงุฑ: ุจุฑุฎ ุขูุชโูุฑูุณโูุง ููฺฉู ุงุณุช ุจูโุฏูู ุงุณุชูุงุฏู ุงุฒ ููฺฉโูุง ุณุฑุงุณุฑุ ุจุฑูุงููโูุง ุงูโฺูู ุฑุง ุญุณุงุณ ุจุฏุงููุฏ. ฺฉุฏ ููุจุน ุจุงุฒ ุงุณุชโูโุชูุงูุฏ ุจุฑุฑุณ ู ุฎูุฏุชุงู ุจูุฏ ฺฉูุฏ.

---

## ฺุฑุง ุงู ุงุจุฒุงุฑุ
ูุดุณุชู ุทููุงูโูุฏุช ู ุฎุฑูโุดุฏู ุจู ุตูุญู ูโุชูุงูุฏ ุจุงุนุซ ุฎุดฺฉ ฺุดูุ ุฎุณุชฺฏ ู ุฏุฑุฏ ฺฏุฑุฏู/ฺฉูุฑ ุดูุฏ.
ุงู ุงุจุฒุงุฑ ุงุฏุขูุฑ ูโฺฉูุฏ ุชุง **ููููโูุง ฺฉูุชุงู ุงูุง ูุฏุงูู** ุฏุงุดุชู ุจุงุดุฏโฺฉุงุฑุงโุชุงู ูุนูููุงู **ุจูุชุฑ** ูโุดูุฏุ ูู ุจุฏุชุฑ.  

---

## ูุงุณูุณ
MIT โ ุงุฒุด ุงุณุชูุงุฏู ฺฉูุฏุ ุชุบุฑ ุจุฏูุฏุ ูุฐุช ุจุจุฑุฏุ ููุท ฺฉูพโุฑุงุช ู ูุชู ูุงุณูุณ ุฑุง ูฺฏู ุฏุงุฑุฏ.

---

## ุณูพุงุณ
ุงฺฏุฑ ุงุฏูโุง ุจุฑุง ุจูุชุฑ ุดุฏู UX (ุงููุดูโูุงุ ุชู ุฑูุดู/ุชุงุฑฺฉุ ุขฺฉู ุงุฎุชุตุงุตุ ูพุงูุฑ ููู ู โฆ) ุฏุงุฑุฏุ PR ุจุฏุฏ ุง Issue ุจุณุงุฒุฏ. โค๏ธ
